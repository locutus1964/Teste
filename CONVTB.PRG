* Esta rotina converte todas as tabelas do Sistema
* para a nova estrutura de Tabelas Relacionais
* Autor: Jair Goncalves

* Copia itens de CADNF para CABECNF
*******************
PROCEDURE COPYCADNF
*******************

  SELECT 0 
  USE CABECNF1 
  SELECT 0
  USE CADNF 
  INDEX ON NNF TO TST
  SELECT 0
  USE CABECNF
  INDEX ON STR(NNF)+STR(VEN) TO TST1
  SELECT CADNF
  SET RELATION TO STR(NNF)+STR(VEN) INTO CABECNF
  
  DO WHILE ! EOF()
     IF FOUND('CABECNF') 
        SELECT CABECNF1
        APPEND BLANK
        REPLACE NNF      WITH CABECNF->NNF
        REPLACE VBASEICM WITH CABECNF->VBASEICM
        REPLACE VEN      WITH CABECNF->VEN
        REPLACE REGIAO   WITH CABECNF->REGIAO
        REPLACE PBRUTO   WITH CABECNF->PBRUTO
        REPLACE PLIQUIDO WITH CABECNF->PLIQUIDO
        REPLACE VEICULO  WITH CABECNF->VEICULO
        REPLACE QTDVOL   WITH CABECNF->QTDVOL
        REPLACE ESPECIE  WITH CABECNF->ESPECIE
        REPLACE TIP      WITH CADNF->TIP
        REPLACE PED      WITH CADNF->PED
        REPLACE CP1      WITH CADNF->CP1
        REPLACE CP2      WITH CADNF->CP2
        REPLACE CP3      WITH CADNF->CP3
        REPLACE CP4      WITH CADNF->CP4
        REPLACE PE1      WITH CADNF->PE1
        REPLACE PE2      WITH CADNF->PE2
        REPLACE PE3      WITH CADNF->PE3
        REPLACE PE4      WITH CADNF->PE4                
     ENDIF
     SELECT CADNF
     SKIP
  ENDDO
RETURN
